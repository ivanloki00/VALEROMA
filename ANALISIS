{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# IMPORTACION DE LAS LIBRERIAS "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Para trabajar con esta parte del proyecto necesitaremos importar algunas librerias, para poder trabajar mejor con los datos proporcionados."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import glob\n",
    "from sklearn.preprocessing import OneHotEncoder as OHE\n",
    "from sklearn.preprocessing import MultiLabelBinarizer \n",
    "mlb = MultiLabelBinarizer() # Esto lo haremos para simplificar la función a la hora de útilizar la librería"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Analisis deTiempo y Género."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Por otro lado en este notebook, nos enfocaremos en explorar y analizar las relaciones existentes entre dos variables específicas: **'release_year'** y **'gender_processed'**. Nuestro objetivo principal es observar cómo el paso del tiempo (indicado por la variable 'release_year') va afectando a los géneros (indicado por la variable 'gender_processed')."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Para llevar acabo este analisis debemos tener en cuenta varios pasos claves."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "1.  **Encolumnar los géneros:** Primero, debemos añadir al dataset apartir de la columna 'gender_type' una nueva columna formada por filas de los géneros situados en cada fila. Esto lo haremos para que después en un futuro poder añadir con la libreria OneHotEncoder, columnas con el nombre de cada género que se completaran con unos y ceros según si la serie/película pertenece a ese género.\n",
    "    \n",
    "2.  **Limpieza y Preparación de Datos:** De seguido debemos de aseguraremos que el conjunto de datos esté limpio y listo para el análisis. Esto incluye eliminar las filas con valores nulos o cero en las variables 'release_year', ya que esto nos perjudicaria a la hora del analisis.\n",
    "    \n",
    "3. **Exploración de Datos:** Realizaremos una exploración inicial de los datos para entender la distribución de ambas variables, incluyendo estadísticas descriptivas como la media, mediana, desviación estándar, y la visualización a través de histogramas, diagramas de caja, o gráficos de densidad. Esto nos permitirá identificar tendencias generales, así como cualquier anomalía o dato atípico.\n",
    "    \n",
    "4.  **Visualización de Relaciones:** Para complementar nuestro análisis cuantitativo, crearemos visualizaciones como histogramas que nos permitan observar la relación entre el año y el género que más repetido, todo esto de una forma más intuitiva. Estas visualizaciones pueden ayudarnos a identificar patrones, tendencias o agrupaciones específicas dentro de los datos.\n",
    "    \n",
    "5.  **Interpretación y Conclusiones:** Finalmente, interpretaremos los resultados de nuestro análisis, tratando de extraer conclusiones sobre la relación entre el año de salida de una película y el género más repetido. Consideraremos en que año extrenaremos nuestra película, si existe algún patron que podamos seguir para ver que tipos de películas saldran ese año y que género nos interesa producir. También discutiremos las limitaciones de nuestro análisis y posibles pasos futuros para una investigación más profunda."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "En primer lugar, llamaremos y leeremos el dataset df, esto lo haremos para poder trabajar con más facilidad. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>movie_or_serie</th>\n",
       "      <th>title</th>\n",
       "      <th>director</th>\n",
       "      <th>cast</th>\n",
       "      <th>country</th>\n",
       "      <th>date_added_platform</th>\n",
       "      <th>release_year</th>\n",
       "      <th>duration_seconds</th>\n",
       "      <th>gender_type</th>\n",
       "      <th>description</th>\n",
       "      <th>channel_streaming</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Movie</td>\n",
       "      <td>ricky velez: here's everything</td>\n",
       "      <td>uninformed director</td>\n",
       "      <td>uninformed cast</td>\n",
       "      <td>uninformed country</td>\n",
       "      <td>October 24, 2021</td>\n",
       "      <td>2021</td>\n",
       "      <td>NaN</td>\n",
       "      <td>comedy, stand up</td>\n",
       "      <td>​Comedian Ricky Velez bares it all with his ho...</td>\n",
       "      <td>hulu-movies-and-tv-shows</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Movie</td>\n",
       "      <td>silent night</td>\n",
       "      <td>uninformed director</td>\n",
       "      <td>uninformed cast</td>\n",
       "      <td>uninformed country</td>\n",
       "      <td>October 23, 2021</td>\n",
       "      <td>2020</td>\n",
       "      <td>94 min</td>\n",
       "      <td>crime, drama, thriller</td>\n",
       "      <td>Mark, a low end South London hitman recently r...</td>\n",
       "      <td>hulu-movies-and-tv-shows</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Movie</td>\n",
       "      <td>the marksman</td>\n",
       "      <td>uninformed director</td>\n",
       "      <td>uninformed cast</td>\n",
       "      <td>uninformed country</td>\n",
       "      <td>October 23, 2021</td>\n",
       "      <td>2021</td>\n",
       "      <td>108 min</td>\n",
       "      <td>action, thriller</td>\n",
       "      <td>A hardened Arizona rancher tries to protect an...</td>\n",
       "      <td>hulu-movies-and-tv-shows</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Movie</td>\n",
       "      <td>gaia</td>\n",
       "      <td>uninformed director</td>\n",
       "      <td>uninformed cast</td>\n",
       "      <td>uninformed country</td>\n",
       "      <td>October 22, 2021</td>\n",
       "      <td>2021</td>\n",
       "      <td>97 min</td>\n",
       "      <td>horror</td>\n",
       "      <td>A forest ranger and two survivalists with a cu...</td>\n",
       "      <td>hulu-movies-and-tv-shows</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Movie</td>\n",
       "      <td>settlers</td>\n",
       "      <td>uninformed director</td>\n",
       "      <td>uninformed cast</td>\n",
       "      <td>uninformed country</td>\n",
       "      <td>October 22, 2021</td>\n",
       "      <td>2021</td>\n",
       "      <td>104 min</td>\n",
       "      <td>science fiction, thriller</td>\n",
       "      <td>Mankind's earliest settlers on the Martian fro...</td>\n",
       "      <td>hulu-movies-and-tv-shows</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22993</th>\n",
       "      <td>Movie</td>\n",
       "      <td>zodiac</td>\n",
       "      <td>David Fincher</td>\n",
       "      <td>Mark Ruffalo, Jake Gyllenhaal, Robert Downey J...</td>\n",
       "      <td>United States</td>\n",
       "      <td>November 20, 2019</td>\n",
       "      <td>2007</td>\n",
       "      <td>158 min</td>\n",
       "      <td>cult ,, dramas, thrillers</td>\n",
       "      <td>A political cartoonist, a crime reporter and a...</td>\n",
       "      <td>netflix-shows</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22994</th>\n",
       "      <td>TV Show</td>\n",
       "      <td>zombie dumb</td>\n",
       "      <td>uninformed director</td>\n",
       "      <td>uninformed cast</td>\n",
       "      <td>uninformed country</td>\n",
       "      <td>July 1, 2019</td>\n",
       "      <td>2018</td>\n",
       "      <td>2 Seasons</td>\n",
       "      <td>kids' ,, korean ,, , comedies</td>\n",
       "      <td>While living alone in a spooky town, a young g...</td>\n",
       "      <td>netflix-shows</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22995</th>\n",
       "      <td>Movie</td>\n",
       "      <td>zombieland</td>\n",
       "      <td>Ruben Fleischer</td>\n",
       "      <td>Jesse Eisenberg, Woody Harrelson, Emma Stone, ...</td>\n",
       "      <td>United States</td>\n",
       "      <td>November 1, 2019</td>\n",
       "      <td>2009</td>\n",
       "      <td>88 min</td>\n",
       "      <td>comedies, horror ,</td>\n",
       "      <td>Looking to survive in a world taken over by zo...</td>\n",
       "      <td>netflix-shows</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22996</th>\n",
       "      <td>Movie</td>\n",
       "      <td>zoom</td>\n",
       "      <td>Peter Hewitt</td>\n",
       "      <td>Tim Allen, Courteney Cox, Chevy Chase, Kate Ma...</td>\n",
       "      <td>United States</td>\n",
       "      <td>January 11, 2020</td>\n",
       "      <td>2006</td>\n",
       "      <td>88 min</td>\n",
       "      <td>children , family ,, comedies</td>\n",
       "      <td>Dragged from civilian life, a former superhero...</td>\n",
       "      <td>netflix-shows</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22997</th>\n",
       "      <td>Movie</td>\n",
       "      <td>zubaan</td>\n",
       "      <td>Mozez Singh</td>\n",
       "      <td>Vicky Kaushal, Sarah-Jane Dias, Raaghav Chanan...</td>\n",
       "      <td>India</td>\n",
       "      <td>March 2, 2019</td>\n",
       "      <td>2015</td>\n",
       "      <td>111 min</td>\n",
       "      <td>dramas, international ,, music , musicals</td>\n",
       "      <td>A scrappy but poor boy worms his way into a ty...</td>\n",
       "      <td>netflix-shows</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>22998 rows × 11 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "      movie_or_serie                           title             director  \\\n",
       "0              Movie  ricky velez: here's everything  uninformed director   \n",
       "1              Movie                    silent night  uninformed director   \n",
       "2              Movie                    the marksman  uninformed director   \n",
       "3              Movie                            gaia  uninformed director   \n",
       "4              Movie                        settlers  uninformed director   \n",
       "...              ...                             ...                  ...   \n",
       "22993          Movie                          zodiac        David Fincher   \n",
       "22994        TV Show                     zombie dumb  uninformed director   \n",
       "22995          Movie                      zombieland      Ruben Fleischer   \n",
       "22996          Movie                            zoom         Peter Hewitt   \n",
       "22997          Movie                          zubaan          Mozez Singh   \n",
       "\n",
       "                                                    cast             country  \\\n",
       "0                                        uninformed cast  uninformed country   \n",
       "1                                        uninformed cast  uninformed country   \n",
       "2                                        uninformed cast  uninformed country   \n",
       "3                                        uninformed cast  uninformed country   \n",
       "4                                        uninformed cast  uninformed country   \n",
       "...                                                  ...                 ...   \n",
       "22993  Mark Ruffalo, Jake Gyllenhaal, Robert Downey J...       United States   \n",
       "22994                                    uninformed cast  uninformed country   \n",
       "22995  Jesse Eisenberg, Woody Harrelson, Emma Stone, ...       United States   \n",
       "22996  Tim Allen, Courteney Cox, Chevy Chase, Kate Ma...       United States   \n",
       "22997  Vicky Kaushal, Sarah-Jane Dias, Raaghav Chanan...               India   \n",
       "\n",
       "      date_added_platform  release_year duration_seconds  \\\n",
       "0        October 24, 2021          2021              NaN   \n",
       "1        October 23, 2021          2020           94 min   \n",
       "2        October 23, 2021          2021          108 min   \n",
       "3        October 22, 2021          2021           97 min   \n",
       "4        October 22, 2021          2021          104 min   \n",
       "...                   ...           ...              ...   \n",
       "22993   November 20, 2019          2007          158 min   \n",
       "22994        July 1, 2019          2018        2 Seasons   \n",
       "22995    November 1, 2019          2009           88 min   \n",
       "22996    January 11, 2020          2006           88 min   \n",
       "22997       March 2, 2019          2015          111 min   \n",
       "\n",
       "                                     gender_type  \\\n",
       "0                               comedy, stand up   \n",
       "1                         crime, drama, thriller   \n",
       "2                               action, thriller   \n",
       "3                                         horror   \n",
       "4                      science fiction, thriller   \n",
       "...                                          ...   \n",
       "22993                  cult ,, dramas, thrillers   \n",
       "22994              kids' ,, korean ,, , comedies   \n",
       "22995                         comedies, horror ,   \n",
       "22996              children , family ,, comedies   \n",
       "22997  dramas, international ,, music , musicals   \n",
       "\n",
       "                                             description  \\\n",
       "0      ​Comedian Ricky Velez bares it all with his ho...   \n",
       "1      Mark, a low end South London hitman recently r...   \n",
       "2      A hardened Arizona rancher tries to protect an...   \n",
       "3      A forest ranger and two survivalists with a cu...   \n",
       "4      Mankind's earliest settlers on the Martian fro...   \n",
       "...                                                  ...   \n",
       "22993  A political cartoonist, a crime reporter and a...   \n",
       "22994  While living alone in a spooky town, a young g...   \n",
       "22995  Looking to survive in a world taken over by zo...   \n",
       "22996  Dragged from civilian life, a former superhero...   \n",
       "22997  A scrappy but poor boy worms his way into a ty...   \n",
       "\n",
       "              channel_streaming  \n",
       "0      hulu-movies-and-tv-shows  \n",
       "1      hulu-movies-and-tv-shows  \n",
       "2      hulu-movies-and-tv-shows  \n",
       "3      hulu-movies-and-tv-shows  \n",
       "4      hulu-movies-and-tv-shows  \n",
       "...                         ...  \n",
       "22993             netflix-shows  \n",
       "22994             netflix-shows  \n",
       "22995             netflix-shows  \n",
       "22996             netflix-shows  \n",
       "22997             netflix-shows  \n",
       "\n",
       "[22998 rows x 11 columns]"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.read_csv(\"./all_streaming.csv\")\n",
    "df"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "A contiuación empezaremos a trabajar con el primer paso clave y pasaremos los datos de la coluna 'gender_type' a listas. Para ello utilizaremos estas funciones. "
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.8"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
